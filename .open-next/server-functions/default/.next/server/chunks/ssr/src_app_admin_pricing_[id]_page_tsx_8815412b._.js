module.exports=[60640,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(97168),f=a.i(38246),g=a.i(96438);function h({params:a}){let{id:h}=(0,c.use)(a),i=(0,d.useRouter)(),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)({name:"",price:"",period:"",description:"",popular:!1,order_index:0});(0,c.useEffect)(()=>{t()},[h]);let t=async()=>{try{let a=await fetch(`/api/admin/pricing/${h}`);if(!a.ok)throw Error("Package not found");let b=await a.json();s({name:b.package.name,price:b.package.price,period:b.package.period||"",description:b.package.description||"",popular:!!b.package.popular,order_index:b.package.order_index||0}),o(b.package.features||[])}catch(a){console.error("Error fetching package:",a),alert("প্যাকেজ লোড করতে সমস্যা হয়েছে"),i.push("/admin/pricing")}finally{k(!1)}},u=()=>{p.trim()&&(o([...n,p.trim()]),q(""))},v=async a=>{a.preventDefault(),m(!0);try{if(!(await fetch(`/api/admin/pricing/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,features:n})})).ok)throw Error("Failed to update package");i.push("/admin/pricing"),i.refresh()}catch(a){console.error("Error updating package:",a),alert("প্যাকেজ আপডেট করতে সমস্যা হয়েছে")}finally{m(!1)}},w=async()=>{if(confirm("আপনি কি নিশ্চিত যে আপনি এই প্যাকেজটি মুছে ফেলতে চান?"))try{(await fetch(`/api/admin/pricing/${h}`,{method:"DELETE"})).ok&&(i.push("/admin/pricing"),i.refresh())}catch(a){console.error("Error deleting package:",a)}};return j?(0,b.jsx)("div",{className:"text-white",children:"লোড হচ্ছে..."}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.default,{href:"/admin/pricing",className:"text-slate-400 hover:text-white",children:(0,b.jsx)(e.FaArrowLeft,{})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"প্যাকেজ এডিট করুন"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"প্রাইসিং প্ল্যান আপডেট করুন"})]})]}),(0,b.jsxs)("button",{onClick:w,className:"text-red-400 hover:text-red-300 flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-500/10 transition-colors",children:[(0,b.jsx)(e.FaTrash,{})," মুছে ফেলুন"]})]}),(0,b.jsxs)("form",{onSubmit:v,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["প্যাকেজ নাম ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:r.name,onChange:a=>s({...r,name:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["দাম (টাকায়) ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:r.price,onChange:a=>s({...r,price:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none font-mono",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"সময়কাল (Period)"}),(0,b.jsx)("input",{type:"text",value:r.period,onChange:a=>s({...r,period:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"অর্ডার ইনডেক্স"}),(0,b.jsx)("input",{type:"number",value:r.order_index,onChange:a=>s({...r,order_index:parseInt(a.target.value)}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"বর্ণনা"}),(0,b.jsx)("textarea",{value:r.description,onChange:a=>s({...r,description:a.target.value}),rows:3,className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"প্যাকেজ ফিচারসমূহ"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),u()),className:"flex-1 px-4 py-2 bg-white/5 border border-slate-600 rounded-xl text-white focus:border-teal-500 outline-none",placeholder:"নতুন ফিচার লিখুন..."}),(0,b.jsx)("button",{type:"button",onClick:u,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-xl transition-colors",children:(0,b.jsx)(e.FaPlus,{})})]}),(0,b.jsx)("div",{className:"space-y-2",children:n.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between bg-white/5 px-4 py-2 rounded-lg border border-slate-700",children:[(0,b.jsx)("span",{className:"text-slate-300",children:a}),(0,b.jsx)("button",{type:"button",onClick:()=>{o(n.filter((a,b)=>b!==c))},className:"text-red-400 hover:text-red-300",children:(0,b.jsx)(e.FaTrash,{})})]},c))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl border border-slate-600",children:[(0,b.jsx)("input",{type:"checkbox",id:"popular",checked:r.popular,onChange:a=>s({...r,popular:a.target.checked}),className:"w-5 h-5 rounded border-slate-500 text-teal-500 focus:ring-teal-500/20 bg-transparent"}),(0,b.jsx)("label",{htmlFor:"popular",className:"text-white cursor-pointer select-none",children:"জনপ্রিয় (Popular/Recommended) হিসেবে মার্ক করুন"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(f.default,{href:"/admin/pricing",children:(0,b.jsx)(g.default,{variant:"outline",children:"বাতিল"})}),(0,b.jsx)(g.default,{type:"submit",icon:(0,b.jsx)(e.FaFloppyDisk,{}),disabled:l,children:l?"সেভ হচ্ছে...":"আপডেট করুন"})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=src_app_admin_pricing_%5Bid%5D_page_tsx_8815412b._.js.map