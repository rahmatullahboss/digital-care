module.exports=[20049,a=>{"use strict";var b=a.i(87924),c=a.i(97168);function d({value:a,onChange:d,label:e,required:f}){let g=a=>{let b=document.getElementById("editor-textarea");if(!b)return;let c=b.selectionStart,e=b.selectionEnd,f=b.value,g=f.substring(0,c),h=f.substring(c,e),i=f.substring(e),j="";"b"===a&&(j=`${g}**${h}**${i}`),"i"===a&&(j=`${g}_${h}_${i}`),"ul"===a&&(j=`${g}
- ${h}${i}`),"link"===a&&(j=`${g}[${h}](url)${i}`),"img"===a&&(j=`${g}![alt](url)${i}`),d(j)};return(0,b.jsxs)("div",{className:"space-y-2",children:[e&&(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300",children:[e," ",f&&(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"border border-slate-600 rounded-xl overflow-hidden bg-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 p-2 bg-slate-800 border-b border-slate-700",children:[(0,b.jsx)("button",{type:"button",onClick:()=>g("b"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Bold",children:(0,b.jsx)(c.FaBold,{})}),(0,b.jsx)("button",{type:"button",onClick:()=>g("i"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Italic",children:(0,b.jsx)(c.FaItalic,{})}),(0,b.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,b.jsx)("button",{type:"button",onClick:()=>g("ul"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"List",children:(0,b.jsx)(c.FaListUl,{})}),(0,b.jsx)("button",{type:"button",onClick:()=>g("link"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Link",children:(0,b.jsx)(c.FaLink,{})}),(0,b.jsx)("button",{type:"button",onClick:()=>g("img"),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Image",children:(0,b.jsx)(c.FaImage,{})})]}),(0,b.jsx)("textarea",{id:"editor-textarea",value:a,onChange:a=>d(a.target.value),rows:15,className:"w-full p-4 bg-transparent text-white placeholder:text-slate-600 outline-none resize-y font-mono text-sm leading-relaxed",required:f,placeholder:"এখানে লিখুন (Markdown supported)..."})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"* Markdown ফরম্যাট সমর্থিত। ছবি যোগ করতে Cloudinary URL ব্যবহার করুন।"})]})}a.s(["default",()=>d])},28440,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(97168),f=a.i(38246),g=a.i(96438),h=a.i(20049);function i({params:a}){let{id:i}=(0,c.use)(a),j=(0,d.useRouter)(),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({title:"",slug:"",excerpt:"",content:"",image_url:"",published:!1});(0,c.useEffect)(()=>{q()},[i]);let q=async()=>{try{let a=await fetch(`/api/admin/posts/${i}`);if(!a.ok)throw Error("Post not found");let b=await a.json();p({title:b.post.title,slug:b.post.slug,excerpt:b.post.excerpt||"",content:b.post.content,image_url:b.post.image_url||"",published:!!b.post.published})}catch(a){console.error("Error fetching post:",a),alert("পোস্ট লোড করতে সমস্যা হয়েছে"),j.push("/admin/posts")}finally{l(!1)}},r=async a=>{a.preventDefault(),n(!0);try{if(!(await fetch(`/api/admin/posts/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw Error("Failed to update post");j.push("/admin/posts"),j.refresh()}catch(a){console.error("Error updating post:",a),alert("পোস্ট আপডেট করতে সমস্যা হয়েছে")}finally{n(!1)}},s=async()=>{if(confirm("আপনি কি নিশ্চিত যে আপনি এই পোস্টটি মুছে ফেলতে চান?"))try{(await fetch(`/api/admin/posts/${i}`,{method:"DELETE"})).ok&&(j.push("/admin/posts"),j.refresh())}catch(a){console.error("Error deleting post:",a)}};return k?(0,b.jsx)("div",{className:"text-white",children:"লোড হচ্ছে..."}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.default,{href:"/admin/posts",className:"text-slate-400 hover:text-white",children:(0,b.jsx)(e.FaArrowLeft,{})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"পোস্ট এডিট করুন"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"ব্লগ পোস্ট আপডেট করুন"})]})]}),(0,b.jsxs)("button",{onClick:s,className:"text-red-400 hover:text-red-300 flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-500/10 transition-colors",children:[(0,b.jsx)(e.FaTrash,{})," মুছে ফেলুন"]})]}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["শিরোনাম ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:o.title,onChange:a=>p({...o,title:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Slug (URL) ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:o.slug,onChange:a=>p({...o,slug:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none font-mono text-sm",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["সংক্ষিপ্ত বিবরণ ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("textarea",{value:o.excerpt,onChange:a=>p({...o,excerpt:a.target.value}),rows:3,className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none resize-none",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"ফিচার্ড ইমেজ URL"}),(0,b.jsx)("input",{type:"url",value:o.image_url,onChange:a=>p({...o,image_url:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:border-teal-500 focus:ring-2 focus:ring-teal-500/20 outline-none font-mono text-sm"})]}),(0,b.jsx)(h.default,{label:"মূল কন্টেন্ট",value:o.content,onChange:a=>p({...o,content:a}),required:!0}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-white/5 rounded-xl border border-slate-600",children:[(0,b.jsx)("input",{type:"checkbox",id:"published",checked:o.published,onChange:a=>p({...o,published:a.target.checked}),className:"w-5 h-5 rounded border-slate-500 text-teal-500 focus:ring-teal-500/20 bg-transparent"}),(0,b.jsx)("label",{htmlFor:"published",className:"text-white cursor-pointer select-none",children:"পোস্টটি প্রকাশ করুন (Publish Now)"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(f.default,{href:"/admin/posts",children:(0,b.jsx)(g.default,{variant:"outline",children:"বাতিল"})}),(0,b.jsx)(g.default,{type:"submit",icon:(0,b.jsx)(e.FaFloppyDisk,{}),disabled:m,children:m?"সেভ হচ্ছে...":"আপডেট করুন"})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_80beedf6._.js.map